# =============================================================================
# Hide Mail - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# Docker Compose automatically reads from .env in the same directory.
# =============================================================================

# -----------------------------------------------------------------------------
# Required: Domain Configuration
# -----------------------------------------------------------------------------
# Comma-separated list of email domains the service will accept
VALID_DOMAINS=hide-mail.org,private-mail.org

# -----------------------------------------------------------------------------
# Required: Email Settings (all times in seconds)
# -----------------------------------------------------------------------------
# How long emails are stored before expiration (seconds)
# Default: 1800 (30 minutes)
EMAIL_EXPIRATION_SECONDS=1800

# How much time is added when user extends mailbox (seconds)
# Default: 900 (15 minutes)
EMAIL_EXTENSION_SECONDS=900

# -----------------------------------------------------------------------------
# Required: API Configuration
# -----------------------------------------------------------------------------
# API URL path (relative to frontend domain)
CONFIG_API_URL=/api

# API request timeout (milliseconds)
CONFIG_API_TIMEOUT=5000

# -----------------------------------------------------------------------------
# Optional: AdSense Configuration
# -----------------------------------------------------------------------------
# Leave empty or remove to disable ads

# Your AdSense publisher ID (e.g., ca-pub-1234567890123456)
REACT_APP_ADSENSE_CLIENT=

# Ad slot IDs - get these from your AdSense dashboard
REACT_APP_ADSENSE_SLOT_TOP_BANNER=
REACT_APP_ADSENSE_SLOT_TOP_PAGE_AD=
REACT_APP_ADSENSE_SLOT_BOTTOM_PAGE_AD=
REACT_APP_ADSENSE_SLOT_SIDEBAR_RECTANGLE=
REACT_APP_ADSENSE_SLOT_MIDDLE_BANNER=
REACT_APP_ADSENSE_SLOT_BEFORE_FOOTER=
REACT_APP_ADSENSE_SLOT_FOOTER=
REACT_APP_ADSENSE_SLOT_BLOG_TOP=
REACT_APP_ADSENSE_SLOT_BLOG_BOTTOM=
REACT_APP_ADSENSE_SLOT_BLOG_POST_TOP=
REACT_APP_ADSENSE_SLOT_BLOG_POST_MIDDLE=
REACT_APP_ADSENSE_SLOT_BLOG_POST_BOTTOM=

# -----------------------------------------------------------------------------
# Backend Configuration (used by backend service)
# -----------------------------------------------------------------------------
# Log level: error, warn, info, debug
LOG_LEVEL=info

# Redis connection URL
REDIS_URL=redis://redis:6379

# Backend ports (internal)
PORT=3001
SMTP_PORT=2525

# -----------------------------------------------------------------------------
# Forward & Forget Feature - Email Forwarding Configuration
# -----------------------------------------------------------------------------
# Privacy-focused email forwarding with OTP validation
# Uses Mailpit as local SMTP server (included in docker-compose)
#
# Architecture:
#   Backend -> Mailpit (local) -> External SMTP relay (optional)
#
# In development: Mailpit captures emails for inspection (http://localhost:8025)
# In production: Configure MAILPIT_RELAY_* to forward to real SMTP server

# Backend SMTP Configuration (connects to Mailpit)
# These defaults work with the included Mailpit service
SMTP_HOST=mailpit
SMTP_OUTGOING_PORT=1025
SMTP_USER=
SMTP_PASS=
SMTP_SECURE=false
SMTP_FROM_EMAIL=noreply@hide-mail.org
SMTP_FROM_NAME=Hide Mail

# -----------------------------------------------------------------------------
# Mailpit Relay Configuration (for production)
# -----------------------------------------------------------------------------
# Configure these to relay emails from Mailpit to an external SMTP server
# Examples: SendGrid, AWS SES, Mailgun, Gmail SMTP, etc.
#
# Without relay config, emails are captured in Mailpit but NOT delivered
# This is useful for development and testing

# External SMTP relay host (leave empty to disable relay)
MAILPIT_RELAY_HOST=
# Relay port (typically 587 for STARTTLS, 465 for SSL)
MAILPIT_RELAY_PORT=587
# Use STARTTLS
MAILPIT_RELAY_STARTTLS=true
# Authentication method: plain, login, cram-md5
MAILPIT_RELAY_AUTH=plain
# Relay credentials
MAILPIT_RELAY_USERNAME=
MAILPIT_RELAY_PASSWORD=
# Enable auto-relay for all messages (requires MAILPIT_RELAY_HOST to be set)
# Set to 'true' only when relay host is configured, otherwise Mailpit will fail to start
MAILPIT_RELAY_ALL=false

# DKIM Signing (optional, improves deliverability)
# Generate keypair: openssl genrsa -out dkim.private 2048
# Extract public key: openssl rsa -in dkim.private -pubout > dkim.public
# Add public key to DNS: default._domainkey.yourdomain.com TXT "v=DKIM1; k=rsa; p=<public-key>"
DKIM_DOMAIN=
DKIM_SELECTOR=default
DKIM_PRIVATE_KEY=

# SRS (Sender Rewriting Scheme) - Required for SPF alignment
# Generate a random secret: openssl rand -base64 32
# SRS_DOMAIN should be a domain you control with proper SPF records
SRS_DOMAIN=
SRS_SECRET=

# Rate Limiting
# Maximum forwards per hour per temporary mailbox
FORWARDING_RATE_LIMIT=10

# OTP Settings
# Expiration time in minutes
OTP_EXPIRATION_MINUTES=15
# Length of OTP code (digits only)
OTP_LENGTH=6